import{s as ae,n as Y,r as ce,e as me,f as Z}from"../chunks/scheduler.mUZSWlMr.js";import{S as ie,i as ue,g as T,m as Q,s as D,h as p,j as N,n as W,f as k,c as H,k as v,a as G,x as c,A as V,o as x,e as $,d as S,t as R,b as fe,y as j,z as ee,B as _e,p as de,C as ve,r as be,u as Te,v as pe,w as ge}from"../chunks/index.7CdyzNN3.js";import{c as te,b as Ce,d as ke,s as Ee,e as Be}from"../chunks/store.EUhdhzdk.js";function oe(l){return l?.length!==void 0?l:Array.from(l)}function Ie(l){let t,o,e=l[0]+1+"",s,n,f,C,E,d,g,w,a,h,y,I;return{c(){t=T("div"),o=T("p"),s=Q(e),n=Q(". "),f=Q(l[1]),C=D(),E=T("div"),d=T("button"),g=T("i"),w=D(),a=T("button"),h=T("i"),this.h()},l(b){t=p(b,"DIV",{class:!0});var _=N(t);o=p(_,"P",{});var z=N(o);s=W(z,e),n=W(z,". "),f=W(z,l[1]),z.forEach(k),C=H(_),E=p(_,"DIV",{class:!0});var L=N(E);d=p(L,"BUTTON",{class:!0});var A=N(d);g=p(A,"I",{class:!0}),N(g).forEach(k),A.forEach(k),w=H(L),a=p(L,"BUTTON",{class:!0});var M=N(a);h=p(M,"I",{class:!0}),N(h).forEach(k),M.forEach(k),L.forEach(k),_.forEach(k),this.h()},h(){v(g,"class","far fa-edit"),v(d,"class","svelte-5gmz2s"),v(h,"class","far fa-trash-alt"),v(a,"class","svelte-5gmz2s"),v(E,"class","actions svelte-5gmz2s"),v(t,"class","todo svelte-5gmz2s")},m(b,_){G(b,t,_),c(t,o),c(o,s),c(o,n),c(o,f),c(t,C),c(t,E),c(E,d),c(d,g),c(E,w),c(E,a),c(a,h),y||(I=[V(g,"click",l[4]),V(h,"click",l[5])],y=!0)},p(b,[_]){_&1&&e!==(e=b[0]+1+"")&&x(s,e),_&2&&x(f,b[1])},i:Y,o:Y,d(b){b&&k(t),y=!1,ce(I)}}}function Le(l,t,o){let{index:e}=t,{todo:s}=t,{editTodo:n}=t,{removeTodo:f}=t;const C=()=>n(e),E=()=>f(e);return l.$$set=d=>{"index"in d&&o(0,e=d.index),"todo"in d&&o(1,s=d.todo),"editTodo"in d&&o(2,n=d.editTodo),"removeTodo"in d&&o(3,f=d.removeTodo)},[e,s,n,f,C,E]}class Ne extends ie{constructor(t){super(),ue(this,t,Le,Ie,ae,{index:0,todo:1,editTodo:2,removeTodo:3})}}function se(l,t,o){const e=l.slice();return e[9]=t[o],e[11]=o,e}function le(l){let t,o,e,s="Todo List",n,f,C,E='<i class="far fa-save svelte-13ctbo3"></i> <p>Save</p>',d,g,w='<i class="far fa-sign-out-alt svelte-13ctbo3"></i> <p>Logout</p>',a,h,y,I,b,_,z,L,A="Add",M,P,J,X,B=l[0].length===0&&ne(),O=oe(l[0]),u=[];for(let r=0;r<O.length;r+=1)u[r]=re(se(l,O,r));const he=r=>R(u[r],1,1,()=>{u[r]=null});return{c(){t=T("div"),o=T("div"),e=T("h1"),e.textContent=s,n=D(),f=T("div"),C=T("button"),C.innerHTML=E,d=D(),g=T("button"),g.innerHTML=w,a=D(),h=T("main"),B&&B.c(),y=D();for(let r=0;r<u.length;r+=1)u[r].c();I=D(),b=T("form"),_=T("input"),z=D(),L=T("button"),L.textContent=A,this.h()},l(r){t=p(r,"DIV",{class:!0});var m=N(t);o=p(m,"DIV",{class:!0});var i=N(o);e=p(i,"H1",{"data-svelte-h":!0}),j(e)!=="svelte-1g9d2um"&&(e.textContent=s),n=H(i),f=p(i,"DIV",{class:!0});var U=N(f);C=p(U,"BUTTON",{class:!0,"data-svelte-h":!0}),j(C)!=="svelte-mrw3c0"&&(C.innerHTML=E),d=H(U),g=p(U,"BUTTON",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-1t6b091"&&(g.innerHTML=w),U.forEach(k),i.forEach(k),a=H(m),h=p(m,"MAIN",{class:!0});var q=N(h);B&&B.l(q),y=H(q);for(let K=0;K<u.length;K+=1)u[K].l(q);q.forEach(k),I=H(m),b=p(m,"FORM",{class:!0});var F=N(b);_=p(F,"INPUT",{type:!0,placeholder:!0,class:!0}),z=H(F),L=p(F,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(L)!=="svelte-j1u4ea"&&(L.textContent=A),F.forEach(k),m.forEach(k),this.h()},h(){v(C,"class","svelte-13ctbo3"),v(g,"class","svelte-13ctbo3"),v(f,"class","headerBtns svelte-13ctbo3"),v(o,"class","headerContainer svelte-13ctbo3"),v(h,"class","svelte-13ctbo3"),v(_,"type","text"),v(_,"placeholder","Enter Todo"),v(_,"class","svelte-13ctbo3"),v(L,"type","submit"),v(L,"class","svelte-13ctbo3"),v(b,"class",M=Z(`enterTodo ${l[2]?"errorBorder":""}`)+" svelte-13ctbo3"),v(t,"class","mainContainer svelte-13ctbo3")},m(r,m){G(r,t,m),c(t,o),c(o,e),c(o,n),c(o,f),c(f,C),c(f,d),c(f,g),c(t,a),c(t,h),B&&B.m(h,null),c(h,y);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(h,null);c(t,I),c(t,b),c(b,_),ee(_,l[1]),c(b,z),c(b,L),P=!0,J||(X=[V(C,"click",l[7]),V(g,"click",Be.logout),V(_,"input",l[8]),V(b,"submit",_e(l[4]))],J=!0)},p(r,m){if(r[0].length===0?B||(B=ne(),B.c(),B.m(h,y)):B&&(B.d(1),B=null),m&97){O=oe(r[0]);let i;for(i=0;i<O.length;i+=1){const U=se(r,O,i);u[i]?(u[i].p(U,m),S(u[i],1)):(u[i]=re(U),u[i].c(),S(u[i],1),u[i].m(h,null))}for(de(),i=O.length;i<u.length;i+=1)he(i);fe()}m&2&&_.value!==r[1]&&ee(_,r[1]),(!P||m&4&&M!==(M=Z(`enterTodo ${r[2]?"errorBorder":""}`)+" svelte-13ctbo3"))&&v(b,"class",M)},i(r){if(!P){for(let m=0;m<O.length;m+=1)S(u[m]);P=!0}},o(r){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)R(u[m]);P=!1},d(r){r&&k(t),B&&B.d(),ve(u,r),J=!1,ce(X)}}}function ne(l){let t,o="No Todos";return{c(){t=T("p"),t.textContent=o,this.h()},l(e){t=p(e,"P",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-vz20l2"&&(t.textContent=o),this.h()},h(){v(t,"class","center")},m(e,s){G(e,t,s)},d(e){e&&k(t)}}}function re(l){let t,o;return t=new Ne({props:{todo:l[9],index:l[11],editTodo:l[5],removeTodo:l[6]}}),{c(){be(t.$$.fragment)},l(e){Te(t.$$.fragment,e)},m(e,s){pe(t,e,s),o=!0},p(e,s){const n={};s&1&&(n.todo=e[9]),t.$set(n)},i(e){o||(S(t.$$.fragment,e),o=!0)},o(e){R(t.$$.fragment,e),o=!1},d(e){ge(t,e)}}}function ye(l){let t,o,e=!l[3].loading&&le(l);return{c(){e&&e.c(),t=$()},l(s){e&&e.l(s),t=$()},m(s,n){e&&e.m(s,n),G(s,t,n),o=!0},p(s,[n]){s[3].loading?e&&(de(),R(e,1,1,()=>{e=null}),fe()):e?(e.p(s,n),n&8&&S(e,1)):(e=le(s),e.c(),S(e,1),e.m(t.parentNode,t))},i(s){o||(S(e),o=!0)},o(s){R(e),o=!1},d(s){s&&k(t),e&&e.d(s)}}}function we(l,t,o){let e;me(l,te,a=>o(3,e=a));let s=[],n="",f=!1;te.subscribe(a=>{o(0,s=a.data.todos)});function C(){o(2,f=!1),n||o(2,f=!0),o(0,s=[...s,n]),o(1,n="")}function E(a){let h=[...s].filter((y,I)=>(console.log(I,a,I!==a),I!=a));o(1,n=s[a]),o(0,s=h)}function d(a){let h=[...s].filter((y,I)=>(console.log(I,a,I!==a),I!=a));o(0,s=h)}async function g(){try{const a=ke(Ce,"users",e.user.uid);await Ee(a,{todos:s},{merge:!0})}catch{console.log("there was an error saving todos")}}function w(){n=this.value,o(1,n)}return[s,n,f,e,C,E,d,g,w]}class Me extends ie{constructor(t){super(),ue(this,t,we,ye,ae,{})}}export{Me as component};
